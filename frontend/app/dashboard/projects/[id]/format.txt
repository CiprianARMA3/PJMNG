// app/dashboard/projects/[id]/board/page.tsx
import { createClient } from "@/utils/supabase/server";
import { redirect } from "next/navigation";
import { cookies } from "next/headers";
import Menu from "./../components/menu";

interface PageProps {
  params: Promise<{ id: string }>;
}

export default async function Board({ params }: PageProps) {
  const { id } = await params;
  const cookieStore = cookies();
  const supabase = createClient(cookieStore);
  
  const { data: { user } } = await supabase.auth.getUser();
  if (!user) redirect("/auth/login");

  const { data: project } = await supabase
    .from("projects")
    .select("*")
    .eq("id", id)
    .single();

  if (!project) redirect("/dashboard");

  return (
    <div className="min-h-screen bg-[#0a0a0a] text-white flex relative">
      <Menu project={project} user={user} />
      
      <main className="flex-1 ml-64 min-h-screen overflow-y-auto bg-[#0a0a0a]">
        <div className="p-8 pt-24">
          <h1 className="text-3xl font-bold mb-6">Board</h1>
         
        </div>
      </main>
    </div>
  );
}